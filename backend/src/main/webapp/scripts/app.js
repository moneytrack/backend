!function e(t,a,n){function r(i,o){if(!a[i]){if(!t[i]){var l="function"==typeof require&&require;if(!o&&l)return l(i,!0);if(s)return s(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=a[i]={exports:{}};t[i][0].call(u.exports,function(e){var a=t[i][1][e];return r(a?a:e)},u,u.exports,e,t,a,n)}return a[i].exports}for(var s="function"==typeof require&&require,i=0;i<n.length;i++)r(n[i]);return r}({"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\CategoryPicker.jsx":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),s=n(r),i=s["default"].createClass({displayName:"CategoryPicker",propTypes:{rootCategoryId:s["default"].PropTypes.number,categoryList:s["default"].PropTypes.arrayOf(s["default"].PropTypes.object),allowEmpty:s["default"].PropTypes.bool,value:s["default"].PropTypes.number},onChange:function(e){this.props.onChange(e)},renderRecurse:function(e,t){var a=this,n=e.slice().sort(function(e,t){return e.order-t.order});return n.map(function(e){var n=e.childIdList.map(function(e){return a.props.categoryList.filter(function(t){return t.id===e})[0]}),r=["category-picker__category"];if(a.props.value===e.id&&r.push("category-picker__category--selected"),r=r.join(" "),n.length>0){var i=n.length>0?a.renderRecurse(n,t+1):"";return[s["default"].createElement("div",{key:e.id,className:r,onClick:function(){return a.onChange(e.id)}},s["default"].createElement("div",{className:"category-picker__category__title"},e.title)),s["default"].createElement("div",{key:e.id+"-children",className:"category-picker__children"},i)]}return[s["default"].createElement("div",{key:e.id,className:r,onClick:function(){return a.onChange(e.id)}},s["default"].createElement("div",{className:"category-picker__category__title"},e.title))]})},render:function(){var e=this,t=this.props.categoryList.filter(function(t){return t.parentId===e.props.rootCategoryId}),a=this.renderRecurse(t,0);if(this.props.allowEmpty){var n=["category-picker__category"];null===this.props.value&&n.push("category-picker__category--selected"),n=n.join(" "),a.unshift(s["default"].createElement("div",{key:"empty",className:n,onClick:function(){return e.onChange(null)}},s["default"].createElement("div",{className:"category-picker__empty"},"Do not filter by category")))}return s["default"].createElement("div",{className:"category-picker"},a)}});a["default"]=i},{react:"react"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\ConfirmDialog.jsx":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),s=n(r),i=e("./ModalContainer"),o=n(i),l=s["default"].createClass({displayName:"ConfirmDialog",render:function(){return s["default"].createElement(o["default"],{visible:this.props.visible},s["default"].createElement("div",{className:"confirm-dialog"},s["default"].createElement("div",{className:"confirm-dialog__msg"},"Are you sure?"),s["default"].createElement("div",{className:"confirm-dialog__controls"},s["default"].createElement("button",{type:"button",onClick:this.props.onYes},"Yes"),s["default"].createElement("button",{type:"button",onClick:this.props.onNo},"No"))))}});a["default"]=l},{"./ModalContainer":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\ModalContainer.jsx",react:"react"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\DateTimePicker.jsx":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),s=n(r),i=e("react-addons-update"),o=n(i),l=e("input-moment"),c=n(l),u=e("moment"),d=n(u),m=e("./ModalContainer"),f=n(m),p=e("./DropDownContainer"),y=(n(p),s["default"].createClass({displayName:"DateTimePicker",getInitialState:function(){return{visible:!1}},onCancel:function(){this.setState((0,o["default"])(this.state,{visible:{$set:!1}}))},onClick:function(){this.setState((0,o["default"])(this.state,{visible:{$set:!this.state.visible}}));var e=(0,d["default"])(this.props.value.timestamp);this.props.onChange((0,o["default"])(this.props.value,{moment:{$set:e}}))},onChangeDate:function(e){this.props.onChange((0,o["default"])(this.props.value,{moment:{$set:e}}))},onSaveDate:function(){var e=this.props.value.moment.valueOf();this.props.onChange((0,o["default"])(this.props.value,{timestamp:{$set:e}})),this.setState((0,o["default"])(this.state,{visible:{$set:!1}}))},render:function(){var e=this.props.value,t=e.timestamp,a=e.moment;return s["default"].createElement("div",null,s["default"].createElement("input",{onClick:this.onClick,value:(0,d["default"])(t).format("MM.DD HH:mm:ss"),readOnly:!0}),this.state.visible?s["default"].createElement(f["default"],{onCancel:this.onCancel},s["default"].createElement(c["default"],{moment:a,onChange:this.onChangeDate,onSave:this.onSaveDate})):s["default"].createElement("span",null))}}));y.contextTypes={store:s["default"].PropTypes.object},y.wrapState=function(e){return{timestamp:e,moment:(0,d["default"])(e)}},y.unwrapState=function(e){return e.timestamp},a["default"]=y},{"./DropDownContainer":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\DropDownContainer.jsx","./ModalContainer":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\ModalContainer.jsx","input-moment":"input-moment",moment:"moment",react:"react","react-addons-update":"react-addons-update"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\DropDownContainer.jsx":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),s=n(r),i=s["default"].createClass({displayName:"DropDownContainer",render:function(){return this.props.visible!==!1?s["default"].createElement("div",{className:"drop-down-container"},s["default"].createElement("div",{className:"drop-down-container__bg"}),s["default"].createElement("div",{className:"drop-down-container__body"},this.props.children)):null}});a["default"]=i},{react:"react"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\EditCategoryList.jsx":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),s=n(r),i=e("react-dom"),o=(n(i),e("react-addons-update")),l=n(o),c=e("./arrays"),u=e("./ModalContainer"),d=n(u),m=(s["default"].createClass({displayName:"RenameModal",render:function(){return s["default"].createElement(d["default"],{visible:this.props.editing,onCancel:this.props.onEditCanceled,onSave:this.props.onEditFinished},s["default"].createElement("label",null,"New name: ",s["default"].createElement("input",{value:this.props.editingText,onChange:this.onEdit,ref:"title_edit_input"})),s["default"].createElement("button",{onClick:this.onEditFinished},"Save"))}}),s["default"].createClass({displayName:"EditCategoryList",getInitialState:function(){return{mode:null,renamingId:null,renamingText:null,newCategoryTitle:null,newCategoryParentId:null}},onRenameBegin:function(e){this.setState((0,l["default"])(this.state,{mode:{$set:"RENAME"},renamingId:{$set:e.id},renamingText:{$set:e.title}}))},onRenameFinished:function(e){""!==this.state.renamingText&&(this.props.onRenameCategory(this.state.renamingId,this.state.renamingText),this.setState((0,l["default"])(this.state,{mode:{$set:null}})))},onRenameCanceled:function(e){this.setState((0,l["default"])(this.state,{mode:{$set:null}}))},onRename:function(e){this.setState((0,l["default"])(this.state,{renamingText:{$set:e.target.value}}))},onMove:function(e,t){var a=parseInt(t.target.value);e>=0&&this.props.onMoveCategory(e,a)},onNewCategoryBegin:function(e){this.setState((0,l["default"])(this.state,{mode:{$set:"NEW_CATEGORY"},newCategoryTitle:{$set:""},newCategoryParentId:{$set:e}}))},onNewCategoryCanceled:function(){this.setState((0,l["default"])(this.state,{mode:{$set:""}}))},onNewCategoryTitleChange:function(e){this.setState((0,l["default"])(this.state,{newCategoryTitle:{$set:e.target.value}}))},onNewCategoryFinished:function(){""!==this.state.newCategoryTitle&&(this.props.onNewCategory(this.state.newCategoryTitle,this.state.newCategoryParentId),this.setState((0,l["default"])(this.state,{mode:{$set:""}})))},onDeleteCategory:function(e,t){e.preventDefault(),this.props.onDeleteCategory(t)},renderRecurse:function(e,t){function a(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(e.id==t)return[];for(var r="",o=0;n>o;++o)r+=String.fromCharCode(parseInt("00A0",16)),r+=String.fromCharCode(parseInt("00A0",16));var l=[s["default"].createElement("option",{value:e.id,key:e.id},r+e.title)];return e.childIdList.map(function(e){var r=(0,c.find)(i,function(t){return t.id===e});return a(r,t,n+1)}).forEach(function(e){return e.forEach(function(e){l.push(e)})}),l}var n=this,r=this.context.store.getState(),i=r.categoryList,o=r.rootCategoryId,l=i.filter(function(e){return e.id===o})[0],u=e.slice().sort(function(e,t){return e.order-t.order});return u.map(function(e){var r=e.childIdList.map(function(e){return i.filter(function(t){return t.id===e})[0]}),o=["edit-category-list__category"];if(o=o.join(" "),r.length>0){var c=r.length>0?n.renderRecurse(r,t+1):"";return[s["default"].createElement("div",{key:e.id,className:o},s["default"].createElement("div",{className:"edit-category-list__category__content"},s["default"].createElement("div",{className:"edit-category-list__category__title",onClick:function(){return n.onRenameTitleBegin(e)}},e.title)," ",s["default"].createElement("div",{className:"edit-category-list__category__controls"},s["default"].createElement("a",{href:"#",onClick:function(t){return n.onRenameBegin(e)},className:"pseudo"},"Rename"),s["default"].createElement("a",{href:"#",onClick:function(t){return n.onNewCategoryBegin(e.id)},className:"pseudo"},"Add sub-category..."),s["default"].createElement("select",{onChange:function(t){return n.onMove(e.id,t)}},s["default"].createElement("option",{value:-1},"Move to..."),a(l,e.id)),s["default"].createElement("a",{href:"#",onClick:function(t){return n.onDeleteCategory(t,e.id)},className:"pseudo  warning"},"Delete")))),s["default"].createElement("div",{key:e.id+"-children",className:"edit-category-list__children"},c)]}return[s["default"].createElement("div",{key:e.id,className:o},s["default"].createElement("div",{className:"edit-category-list__category__content"},s["default"].createElement("div",{className:"edit-category-list__category__title",onClick:function(){return n.onRenameBegin(e)}},e.title),s["default"].createElement("div",{className:"edit-category-list__category__controls"},s["default"].createElement("a",{href:"#",onClick:function(t){return n.onRenameBegin(e)},className:"pseudo"},"Rename"),s["default"].createElement("a",{href:"#",onClick:function(t){return n.onNewCategoryBegin(e.id)},className:"pseudo"},"Add sub-category..."),s["default"].createElement("select",{onChange:function(t){return n.onMove(e.id,t)}},s["default"].createElement("option",{value:-1},"Move to..."),a(l,e.id)),s["default"].createElement("a",{href:"#",onClick:function(t){return n.onDeleteCategory(t,e.id)},className:"pseudo warning"},"Delete"))))]})},render:function(){var e=this,t=this.context.store.getState(),a=t.rootCategoryId,n=t.categoryList,r=n.filter(function(e){return e.parentId===a}),i=this.renderRecurse(r,0);if(this.props.allowEmpty){var o=["edit-category-list__category"];null===this.props.value&&o.push("edit-category-list__category--selected"),o=o.join(" "),i.unshift(s["default"].createElement("div",{key:"empty",className:o},s["default"].createElement("div",{className:"edit-category-list__empty"},"Do not filter by category")))}var l=function(e){e&&e.focus()};return s["default"].createElement("div",{className:"edit-category-list"},s["default"].createElement(d["default"],{visible:"RENAME"===this.state.mode,onCancel:this.onRenameCanceled,onSave:this.onRenameFinished},s["default"].createElement("label",null,"New title: ",s["default"].createElement("input",{value:this.state.renamingText,onChange:this.onRename,ref:l})),s["default"].createElement("button",{onClick:this.onRenameFinished,disabled:""===this.state.renamingText},"Save")),s["default"].createElement(d["default"],{visible:"NEW_CATEGORY"===this.state.mode,onCancel:this.onNewCategoryCanceled,onSave:this.onNewCategoryFinished},s["default"].createElement("label",null,"New category title: ",s["default"].createElement("input",{value:this.state.newCategoryTitle,onChange:this.onNewCategoryTitleChange,ref:l})),s["default"].createElement("button",{onClick:this.onNewCategoryFinished,disabled:""===this.state.newCategoryTitle},"Save")),i,s["default"].createElement("div",{className:"edit-category-list__new-root-category"},s["default"].createElement("a",{href:"#",className:"pseudo edit-category-list__new-root-category__link",onClick:function(t){return e.onNewCategoryBegin(a)}},"Add new root category...")))}}));m.contextTypes={store:s["default"].PropTypes.object},a["default"]=m},{"./ModalContainer":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\ModalContainer.jsx","./arrays":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\arrays.js",react:"react","react-addons-update":"react-addons-update","react-dom":"react-dom"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\EditExpense.jsx":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),s=n(r),i=e("react-addons-update"),o=n(i),l=e("./NumberInput.jsx"),c=n(l),u=e("./CategoryPicker.jsx"),d=n(u),m=e("./DateTimePicker.jsx"),f=n(m),p=e("moment"),y=n(p),h=s["default"].createClass({displayName:"EditExpense",getInitialState:function(){var e=this,t=this.context.store.getState(),a=t.rootCategoryId,n=t.categoryList,r=t.history;if(this.props.expenseId){var s=r.filter(function(t){return t.id===e.props.expenseId})[0];return{id:s.id,amount:c["default"].wrapState(s.amount/100),categoryId:s.categoryId,date:f["default"].wrapState(s.date),comment:s.comment,mode:"EDIT"}}var i=n.filter(function(e){return e.parentId===a}),o=i.length>0?i[0].id:-1;return{amount:c["default"].wrapState(0),categoryId:o,date:f["default"].wrapState((0,y["default"])().valueOf()),comment:"",mode:"NEW"}},onSubmit:function(e){if(e.preventDefault(),"NEW"===this.state.mode)this.props.onAdd({amount:Math.floor(100*c["default"].unwrapState(this.state.amount)),categoryId:this.state.categoryId,comment:this.state.comment,date:f["default"].unwrapState(this.state.date)}),this.setState(this.getInitialState());else{if("EDIT"!==this.state.mode)throw new Error("Illegal mode: "+this.state.mode);this.props.onSave({id:this.state.id,amount:Math.floor(100*c["default"].unwrapState(this.state.amount)),categoryId:this.state.categoryId,comment:this.state.comment,date:f["default"].unwrapState(this.state.date)})}},onAmountChange:function(e){this.setState((0,o["default"])(this.state,{amount:{$set:e}}))},onChangeComment:function(e){this.setState((0,o["default"])(this.state,{comment:{$set:e.target.value}}))},onChangeDate:function(e){this.setState((0,o["default"])(this.state,{date:{$set:e}}))},onChangeCategory:function(e){this.setState((0,o["default"])(this.state,{categoryId:{$set:e}}))},onNewCategory:function(e,t){this.props.onAddCategory({title:e,parentId:t})},onCancel:function(){this.props.onCancel()},render:function(){return s["default"].createElement("form",{onSubmit:this.onSubmit,className:"edit-expense"},s["default"].createElement("table",null,s["default"].createElement("tbody",null,s["default"].createElement("tr",null,s["default"].createElement("td",{className:"edit-expense__field__label"},"Amount: "),s["default"].createElement("td",null,s["default"].createElement(c["default"],{value:this.state.amount,onChange:this.onAmountChange}))),s["default"].createElement("tr",null,s["default"].createElement("td",{className:"edit-expense__field__label"},"Category: "),s["default"].createElement("td",null,s["default"].createElement("div",{className:"edit-expense__category-picker-wrapper"},s["default"].createElement(d["default"],{categoryList:this.context.store.getState().categoryList,rootCategoryId:this.context.store.getState().rootCategoryId,value:this.state.categoryId,onChange:this.onChangeCategory,editingEnabled:!0,onNewCategory:this.onNewCategory})))),s["default"].createElement("tr",null,s["default"].createElement("td",{className:"edit-expense__field__label"},"Date:"),s["default"].createElement("td",null,s["default"].createElement(f["default"],{value:this.state.date,onChange:this.onChangeDate}))),s["default"].createElement("tr",null,s["default"].createElement("td",{className:"edit-expense__field__label"},"Comment:"),s["default"].createElement("td",null,s["default"].createElement("input",{value:this.state.comment,onChange:this.onChangeComment}))),s["default"].createElement("tr",null,s["default"].createElement("td",null,"NEW"===this.state.mode?s["default"].createElement("button",{type:"submit"},"Add"):s["default"].createElement("button",{type:"submit"},"Save"),"EDIT"===this.state.mode?s["default"].createElement("button",{type:"button",onClick:this.onCancel},"Cancel"):null),s["default"].createElement("td",null)))))}});h.contextTypes={store:s["default"].PropTypes.object},a["default"]=h},{"./CategoryPicker.jsx":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\CategoryPicker.jsx","./DateTimePicker.jsx":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\DateTimePicker.jsx","./NumberInput.jsx":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\NumberInput.jsx",moment:"moment",react:"react","react-addons-update":"react-addons-update"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\ExpenseList.jsx":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),s=n(r),i=e("react-addons-update"),o=(n(i),e("input-moment")),l=(n(o),e("moment")),c=n(l),u=e("./ModalContainer"),d=(n(u),e("./EditExpense")),m=(n(d),e("./action-creators"),e("./ConfirmDialog")),f=(n(m),s["default"].createClass({displayName:"ExpenseList",render:function(){function e(e,t){for(var a=[],n=null,r=null,s=0;s<e.length;++s){var i=e[s],o=t(i);(null===n||t(i)!==r)&&(n=[],a.push(n)),n.push(i),r=o}return a}function t(e){var a=i.filter(function(t){return t.id===e.parentId})[0];return null!==a.parentId?t(a).concat(e):[e]}var a=this,n=this.props.data,r=this.context.store.getState(),i=r.categoryList,o=n.sort(function(e,t){return t.date-e.date}),l=e(o,function(e){return(0,c["default"])(e.date).format("YYYY MM DD")});return s["default"].createElement("div",{className:"expense-list"},l.map(function(e){var n=(0,c["default"])(e[0].date).format("MMMM Do YYYY (dddd)");return s["default"].createElement("div",{key:n,className:"expense-list__group"},s["default"].createElement("div",{className:"expense-list__group__title"},n),e.map(function(e){var n=i.filter(function(t){return t.id===e.categoryId})[0],r=t(n).map(function(e){return e.title}).join(" / ");return s["default"].createElement("div",{key:e.id,className:"expense-list__expense"},s["default"].createElement("div",{className:"expense-list__expense__time"},(0,c["default"])(e.date).format("HH:mm")),s["default"].createElement("div",null,s["default"].createElement("div",{className:"expense-list__expense__first-line"},s["default"].createElement("div",{className:"expense-list__expense__amount"},e.amount/100," ₽"),s["default"].createElement("div",{className:"expense-list__expense__category"}," "," — ",r)),s["default"].createElement("div",{className:"expense-list__expense__comment"},e.comment)),s["default"].createElement("div",{className:"expense-list__expense__controls"},s["default"].createElement("a",{href:"#",className:"pseudo warning",onClick:function(t){t.preventDefault(),a.props.onDelete(e.id)}},"Delete"),s["default"].createElement("a",{href:"#",className:"pseudo",onClick:function(t){t.preventDefault(),a.props.onEdit(e.id)}},"Edit")))}))}))}}));f.contextTypes={store:s["default"].PropTypes.object},a["default"]=f},{"./ConfirmDialog":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\ConfirmDialog.jsx","./EditExpense":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\EditExpense.jsx","./ModalContainer":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\ModalContainer.jsx","./action-creators":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\action-creators.js","input-moment":"input-moment",moment:"moment",react:"react","react-addons-update":"react-addons-update"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\History.jsx":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),s=n(r),i=e("react-addons-update"),o=n(i),l=e("input-moment"),c=(n(l),e("moment")),u=n(c),d=e("./ModalContainer"),m=n(d),f=e("./EditExpense"),p=n(f),y=e("./action-creators"),h=e("./ConfirmDialog"),v=(n(h),e("./ExpenseList")),g=n(v),_=e("./CategoryPicker"),C=n(_),E=e("./arrays"),k=Object,N=k.keys,x=s["default"].createClass({displayName:"History",getInitialState:function(){var e=(0,u["default"])();e.startOf("month");var t=e.valueOf();e.endOf("month");var a=e.valueOf();return{editingExpense:!1,deletingExpense:!1,filterDateFrom:t,filterDateTo:a,filterDateItem:e.year()+"-"+e.month(),filterCategory:null,filterComment:""}},onExpenseDelete:function(e){this.props.onDelete(e)},onExpenseEdit:function(e){this.setState((0,o["default"])(this.state,{editingExpense:{$set:!0},editingExpenseId:{$set:e}}))},onCancelEditingExpense:function(){this.setState((0,o["default"])(this.state,{editingExpense:{$set:!1}}))},onExpenseSave:function(e){this.context.store.dispatch((0,y.editExpense)(e)),this.setState((0,o["default"])(this.state,{editingExpense:{$set:!1}}))},onExpenseEditCancel:function(){this.setState((0,o["default"])(this.state,{editingExpense:{$set:!1}}))},onFilterByYearMonth:function(e,t){var a=(0,u["default"])().year(e).month(t);a.startOf("month");var n=a.valueOf();a.endOf("month");var r=a.valueOf();this.setState((0,o["default"])(this.state,{filterDateFrom:{$set:n},filterDateTo:{$set:r},filterDateItem:{$set:e+"-"+t}}))},onFilterByYear:function(e){var t=(0,u["default"])().year(e);t.startOf("year");var a=t.valueOf();t.endOf("year");var n=t.valueOf();this.setState((0,o["default"])(this.state,{filterDateFrom:{$set:a},filterDateTo:{$set:n},filterDateItem:{$set:e}}))},onFilterByCategory:function(e){this.setState((0,o["default"])(this.state,{filterCategory:{$set:e}}))},onFilterByComment:function(e){this.setState((0,o["default"])(this.state,{filterComment:{$set:e.target.value}}))},render:function(){function e(e,t){for(var a=[],n=null,r=null,s=0;s<e.length;++s){var i=e[s],o=t(i);(null===n||t(i)!==r)&&(n=[],a.push(n)),n.push(i),r=o}return a}var t=this,a=this.context.store.getState(),n=a.history,r=a.rootCategoryId,i=a.categoryList,o=this.state,l=o.filterDateFrom,c=o.filterDateTo,d=o.filterDateItem,f=o.filterCategory,y=o.filterComment,h={};n.forEach(function(e){var t=(0,u["default"])(e.date).month(),a=(0,u["default"])(e.date).year();a in h||(h[a]=[]),-1==h[a].indexOf(t)&&h[a].push(t)});var v=n.filter(function(e){return e.date>=l&&e.date<=c});null!==f&&(v=v.filter(function(e){return e.categoryId===f})),""!==y&&(v=v.filter(function(e){return-1!=e.comment.indexOf(y)}));v.sort(function(e,t){return t.date-e.date}),e(v,function(e){return(0,u["default"])(e.date).format("YYYY MM DD")});return s["default"].createElement("div",{className:"history"},s["default"].createElement(m["default"],{visible:this.state.editingExpense,onCancel:this.onCancelEditingExpense},s["default"].createElement(p["default"],{expenseId:this.state.editingExpenseId,onSave:this.onExpenseSave,onCancel:this.onExpenseEditCancel})),s["default"].createElement("div",{className:"history__results"},0!=l&&c!=Number.MAX_VALUE?s["default"].createElement("div",{className:"history__current-filter"},s["default"].createElement("span",{className:"history__current-filter__title"},"Showing records:"),"  ",s["default"].createElement("span",null,(0,u["default"])(l).format("MMMM Do YYYY"))," — ",s["default"].createElement("span",null,(0,u["default"])(c).format("MMMM Do YYYY")),null!==f?s["default"].createElement("span",null,", in category „",i.filter(function(e){return e.id===f})[0].title,"“"):null,""!==y?s["default"].createElement("span",null,", with comment, containing „",y,"“"):null):null,s["default"].createElement(g["default"],{data:v,onEdit:this.onExpenseEdit,onDelete:this.onExpenseDelete})),s["default"].createElement("div",{className:"history__filters"},s["default"].createElement("div",{className:"history__title"},"Filter by date"),s["default"].createElement("div",{className:"history__year-month-filter"},N(h).sort(E.desc).map(function(e){return s["default"].createElement("div",{key:e,className:"history__year-month-filter__year-block"},d===e?s["default"].createElement("div",{className:"history__year-month-filter__item history__year-month-filter__item--active history__year-month-filter__year"},s["default"].createElement("span",null,e,":")):s["default"].createElement("div",{className:"history__year-month-filter__year history__year-month-filter__item"},s["default"].createElement("a",{href:"#",className:"pseudo",onClick:function(a){a.preventDefault(),t.onFilterByYear(e)}},e,":")),h[e].sort(E.desc).map(function(a){var n=(0,u["default"])().month(a).year(e);return d===e+"-"+a?s["default"].createElement("div",{key:a,className:"history__year-month-filter__item history__year-month-filter__month history__year-month-filter__item--active"},s["default"].createElement("span",null,n.format("MMMM"))):s["default"].createElement("div",{key:a,className:"history__year-month-filter__month history__year-month-filter__item"},s["default"].createElement("a",{href:"#",className:"pseudo",onClick:function(n){n.preventDefault(),t.onFilterByYearMonth(e,a)}},n.format("MMMM")))}))}))),s["default"].createElement("div",{className:"history__filters"},s["default"].createElement("div",{className:"history__title"},"Filter by category"),s["default"].createElement("div",{className:"history__category-filter"},s["default"].createElement(C["default"],{rootCategoryId:r,categoryList:i,allowEmpty:!0,value:this.state.filterCategory,onChange:this.onFilterByCategory})),s["default"].createElement("div",{className:"history__title"},"Filter by comment"),s["default"].createElement("div",{className:"history__comment-filter"},s["default"].createElement("input",{type:"text",value:this.state.filterComment,onChange:this.onFilterByComment}))))}});x.contextTypes={store:s["default"].PropTypes.object},a["default"]=x},{"./CategoryPicker":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\CategoryPicker.jsx","./ConfirmDialog":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\ConfirmDialog.jsx","./EditExpense":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\EditExpense.jsx","./ExpenseList":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\ExpenseList.jsx","./ModalContainer":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\ModalContainer.jsx","./action-creators":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\action-creators.js","./arrays":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\arrays.js","input-moment":"input-moment",moment:"moment",react:"react","react-addons-update":"react-addons-update"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\ModalContainer.jsx":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),s=n(r),i=s["default"].createClass({displayName:"ModalContainer",onCancel:function(e){e.target===this.refs.root&&this.props.onCancel&&this.props.onCancel(e)},onSave:function(e){13===e.keyCode&&this.props.onSave?this.props.onSave(e):27===e.keyCode&&this.props.onCancel&&this.props.onCancel(e)},render:function(){return this.props.visible!==!1?s["default"].createElement("div",{className:"modal-container",onClick:this.onCancel,ref:"root",onKeyUp:this.onSave},s["default"].createElement("div",{className:"modal-container__column"},s["default"].createElement("div",{className:"modal-container__column__cell"},this.props.children))):null}});a["default"]=i},{react:"react"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\NumberInput.jsx":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),s=n(r),i=e("./numbers"),o=s["default"].createClass({displayName:"NumberInput",propTypes:{value:s["default"].PropTypes.shape({number:s["default"].PropTypes.number.isRequired,text:s["default"].PropTypes.string.isRequired})},getDefaultProps:function(){return{number:0,text:""}},onChange:function(e){var t=e.target.value;t=t.replace(/\s/g,""),t=t.replace(/,/g,"."),t=/^0[0-9]+/.test(t)?t.substring(1):t,(0,i.isNumber)(t)&&this.props.onChange({text:t,number:(0,i.getNumber)(t)})},getValue:function(){return(0,i.getNumber)(this.state.value)},setValue:function(e){(0,i.isNumber)(e)&&this.setState({value:e})},render:function(){return s["default"].createElement("input",{value:this.props.value.text,onChange:this.onChange})}});o.wrapState=function(e){e=parseFloat(e);var t=0===e?"":""+e;return{number:e,text:t}},o.unwrapState=function(e){return e.number},a["default"]=o},{"./numbers":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\numbers.js",react:"react"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\Root.jsx":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),s=n(r),i=e("moment"),o=(n(i),e("react-addons-update")),l=n(o),c=e("./action-creators.js"),u=e("./NumberInput.jsx"),d=(n(u),e("./EditExpense.jsx")),m=n(d),f=e("./TabsContainer.jsx"),p=n(f),y=e("./WaitIndicator.jsx"),h=n(y),v=e("./History.jsx"),g=n(v),_=e("./Statistics.jsx"),C=n(_),E=e("./Settings"),k=n(E),N=e("./UserPanel"),x=n(N),b=s["default"].createClass({displayName:"Root",getInitialState:function(){return{activeTab:"Settings"}},componentDidMount:function(){var e=this;this.unsubscribe=this.context.store.subscribe(function(){e.forceUpdate()})},componentUnmount:function(){this.unsubscribe()},onAdd:function(e){this.context.store.dispatch((0,c.newExpense)(e))},onAddCategory:function(e){this.context.store.dispatch((0,c.newCategory)(e))},onDelete:function(e){this.context.store.dispatch((0,c.deleteExpense)(e))},onSwitchTab:function(e){this.setState((0,l["default"])(this.state,{activeTab:{$set:e}}))},render:function(){var e=this.context.store,t=e.getState(),a=t.error,n=(t.history,t.categoryList,t.waiting);return"UNAUTHORIZED"===a?s["default"].createElement("div",{className:"unauthorized"},s["default"].createElement("div",{className:"unauthorized__caption"},"To use this application you should be ",s["default"].createElement("a",{href:"/login"},"authorized with Google Account"))):s["default"].createElement("div",null,s["default"].createElement(p["default"],{titleList:["Main","History","Statistics","Settings"],active:this.state.activeTab,onSwitch:this.onSwitchTab},s["default"].createElement("div",null,s["default"].createElement(m["default"],{onAdd:this.onAdd})),s["default"].createElement("div",null,s["default"].createElement(g["default"],{onDelete:this.onDelete
})),s["default"].createElement("div",null,s["default"].createElement(C["default"],null)),s["default"].createElement("div",null,s["default"].createElement(k["default"],null))),s["default"].createElement(h["default"],{waiting:n}),s["default"].createElement(x["default"],null))}});b.contextTypes={store:s["default"].PropTypes.object},a["default"]=b},{"./EditExpense.jsx":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\EditExpense.jsx","./History.jsx":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\History.jsx","./NumberInput.jsx":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\NumberInput.jsx","./Settings":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\Settings.jsx","./Statistics.jsx":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\Statistics.jsx","./TabsContainer.jsx":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\TabsContainer.jsx","./UserPanel":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\UserPanel.jsx","./WaitIndicator.jsx":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\WaitIndicator.jsx","./action-creators.js":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\action-creators.js",moment:"moment",react:"react","react-addons-update":"react-addons-update"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\Settings.jsx":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),s=n(r),i=e("react-addons-update"),o=n(i),l=e("./TabsContainer"),c=n(l),u=e("./UserSettings"),d=n(u),m=e("./EditCategoryList"),f=n(m),p=e("./action-creators.js"),y=s["default"].createClass({displayName:"Settings",getInitialState:function(){return{active:"Categories"}},onNewCategory:function(e,t){this.context.store.dispatch((0,p.newCategory)({title:e,parentId:t}))},onRenameCategory:function(e,t){this.context.store.dispatch((0,p.editCategory)({id:e,title:t}))},onMoveCategory:function(e,t){this.context.store.dispatch((0,p.editCategory)({id:e,parentId:t}))},onDeleteCategory:function(e){this.context.store.dispatch((0,p.deleteCategory)({id:e}))},onSwitch:function(e){this.setState((0,o["default"])(this.state,{active:{$set:e}}))},render:function(){return s["default"].createElement("div",{className:"statistics"},s["default"].createElement(c["default"],{titleList:["Categories","User settings"],active:this.state.active,onSwitch:this.onSwitch},s["default"].createElement(f["default"],{onNewCategory:this.onNewCategory,onRenameCategory:this.onRenameCategory,onMoveCategory:this.onMoveCategory,onDeleteCategory:this.onDeleteCategory}),s["default"].createElement(d["default"],null)))}});y.contextTypes={store:s["default"].PropTypes.object},a["default"]=y},{"./EditCategoryList":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\EditCategoryList.jsx","./TabsContainer":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\TabsContainer.jsx","./UserSettings":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\UserSettings.jsx","./action-creators.js":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\action-creators.js",react:"react","react-addons-update":"react-addons-update"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\Statistics.jsx":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),s=n(r),i=e("react-addons-update"),o=(n(i),e("moment")),l=(n(o),e("./SumTableStatistics")),c=n(l),u=s["default"].createClass({displayName:"Statistics",render:function(){return s["default"].createElement("div",{className:"statistics"},s["default"].createElement(c["default"],null))}});u.contextTypes={store:s["default"].PropTypes.object},a["default"]=u},{"./SumTableStatistics":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\SumTableStatistics.jsx",moment:"moment",react:"react","react-addons-update":"react-addons-update"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\SumTableStatistics.jsx":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}Object.defineProperty(a,"__esModule",{value:!0});var s=e("react"),i=n(s),o=e("react-addons-update"),l=n(o),c=e("moment"),u=n(c),d=e("./TabsContainer"),m=n(d),f=e("./money"),p=n(f),y=e("./arrays"),h=p["default"].format(),v=Object,g=v.keys,_=i["default"].createClass({displayName:"SumTableStatistics",getInitialState:function(){var e=Object.keys(this.getYearMonthCategoryExpenseMap()).map(function(e){return parseInt(e)}).sort(y.desc);return{activeYear:e[0],showChild:!1,showAtRoot:!1,showDif:!0}},getYearMonthCategoryExpenseMap:function(){var e=this.context.store.getState(),t=e.history,a=(e.categoryList,{});return t.forEach(function(e){var t=(0,u["default"])(e.date).month(),n=(0,u["default"])(e.date).year(),r=e.categoryId;n in a||(a[n]=[]),t in a[n]||(a[n][t]=[]),r in a[n][t]||(a[n][t][r]=[]),a[n][t][r].push(e)}),a},onChangeChild:function(e){this.setState((0,l["default"])(this.state,{showChild:{$set:!this.state.showChild}}))},onChangeShotAtRoot:function(e){this.setState((0,l["default"])(this.state,{showAtRoot:{$set:!this.state.showAtRoot}}))},onChangeShotDif:function(e){this.setState((0,l["default"])(this.state,{showDif:{$set:!this.state.showDif}}))},render:function(){function e(t,a,n){var r=o.filter(function(e){return e.parentId===a.id}),s=r.map(function(a){return e(t,a,n)}).reduce(function(e,t){return e+t},0),i=r.map(function(e){return t[e.id][n]}).reduce(function(e,t){return e+t},0);return i+s}function t(e){var t=[],a=o.filter(function(e){return e.parentId===c});return a.forEach(function(a){t.push.apply(t,r(y(e,a,0)))}),t}function a(e){var t={};return o.forEach(function(a){t[a.id]={},Object.keys(e).sort(d).map(function(n){var r=e[n],s=r[a.id]||[],i=s.reduce(function(e,t){return e+t.amount},0);t[a.id][n]=i})}),t}var n=this,s=this.context.store.getState(),o=s.categoryList,c=s.rootCategoryId,d=function(e,t){return e-t},f=this.getYearMonthCategoryExpenseMap(),p=function(e){return n.state.showDif?e?e>0?i["default"].createElement("div",{className:"sum-table-statistics__year__value__dif sum-table-statistics__year__value__dif--plus"},"+"+h(e)):i["default"].createElement("div",{className:"sum-table-statistics__year__value__dif sum-table-statistics__year__value__dif--minus"},"-"+h(-e)):i["default"].createElement("div",{className:"sum-table-statistics__year__value__dif"}," "):i["default"].createElement("div",null)},y=function v(t,a,s){var l=[],c=t[a.id];return l.push(i["default"].createElement("tr",{key:a.id},i["default"].createElement("td",{style:{paddingLeft:20*s+"px"},className:"sum-table-statistics__year__category"},a.title),g(c).sort(d).map(function(n){var r=c[n]+e(t,a,n),s=null;if(c[n-1]){var o=c[n-1]+e(t,a,n-1);s=o?r-o:null}return i["default"].createElement("td",{key:a.id+"-"+n,className:"sum-table-statistics__year__value"},h(r),p(s))}))),n.state.showChild&&!function(){var e=[];o.filter(function(e){return e.parentId===a.id}).forEach(function(a){e.push.apply(e,r(v(t,a,s+1)))}),n.state.showAtRoot&&e.unshift(i["default"].createElement("tr",{key:a.id+"-self"},i["default"].createElement("td",{style:{paddingLeft:20*(s+1)+"px"},className:"sum-table-statistics__year__category"},"(at root)"),g(c).sort(d).map(function(e){var t=c[e],n=c[e-1],r=n?t-n:null;return i["default"].createElement("td",{key:a.id+"-"+e,className:"sum-table-statistics__year__value"},h(t),p(r))}))),l.push.apply(l,e)}(),l};return i["default"].createElement(m["default"],{className:"sum-table-statistics",titleList:Object.keys(f).sort(d),active:(this.state.activeYear||"").toString(),onSwitch:function(e){n.setState((0,l["default"])(n.state,{activeYear:{$set:e}}))}},Object.keys(f).sort(d).map(function(e){var r=a(f[e]);return i["default"].createElement("div",{key:e},i["default"].createElement("div",null,i["default"].createElement("label",null,i["default"].createElement("input",{type:"checkbox",checked:n.state.showChild,onChange:n.onChangeChild})," show child categories"),i["default"].createElement("label",null,i["default"].createElement("input",{type:"checkbox",disabled:!n.state.showChild,checked:n.state.showAtRoot,onChange:n.onChangeShotAtRoot})," show 'at root'"),i["default"].createElement("label",null,i["default"].createElement("input",{type:"checkbox",checked:n.state.showDif,onChange:n.onChangeShotDif})," show difference")),i["default"].createElement("table",{className:"sum-table-statistics__year"},i["default"].createElement("tbody",null,i["default"].createElement("tr",null,i["default"].createElement("td",null),g(f[e]).sort(d).map(function(t){var a=(0,u["default"])().year(parseInt(e)).month(parseInt(t));return i["default"].createElement("td",{key:e+"-"+t,className:"sum-table-statistics__year__month"},a.format("MMMM"))})),t(r))))}))}});_.contextTypes={store:i["default"].PropTypes.object},a["default"]=_},{"./TabsContainer":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\TabsContainer.jsx","./arrays":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\arrays.js","./money":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\money.js",moment:"moment",react:"react","react-addons-update":"react-addons-update"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\TabsContainer.jsx":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),s=n(r),i=s["default"].createClass({displayName:"TabsContainer",propTypes:{titleList:s["default"].PropTypes.arrayOf(s["default"].PropTypes.string),active:s["default"].PropTypes.string,checkTitleAndChildrenCount:function(e){if(e.titleList.length!==s["default"].Children.count(e.children))throw new Error("Length of titleList property and children count should be equal")}},onClick:function(e){var t=this;return function(a){a.preventDefault(),t.props.onSwitch(e)}},render:function(){var e=this,t=this.props.titleList.indexOf(this.props.active),a="tabs-container"+(this.props.className?" "+this.props.className:"");return s["default"].createElement("div",{className:a},s["default"].createElement("div",{className:"tabs-container__labels"},this.props.titleList.map(function(t){return t===e.props.active?s["default"].createElement("span",{key:t,className:"tabs-container__labels__label tabs-container__labels__label--active"},t):s["default"].createElement("span",{key:t,className:"tabs-container__labels__label"},s["default"].createElement("a",{href:"#",className:"pseudo",onClick:e.onClick(t)},t))})),s["default"].createElement("div",{className:"tabs-container__content"},s["default"].Children.map(this.props.children,function(e,a){return a===t?e:null})))}});i.contextTypes={store:s["default"].PropTypes.object},a["default"]=i},{react:"react"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\UserPanel.jsx":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),s=n(r),i=s["default"].createClass({displayName:"UserPanel",render:function(){return s["default"].createElement("div",{className:"user-panel"},s["default"].createElement("a",{href:"/logout"},"Logout"))}});a["default"]=i},{react:"react"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\UserSettings.jsx":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),s=n(r),i=e("react-addons-update"),o=(n(i),s["default"].createClass({displayName:"UserSettings",render:function(){return s["default"].createElement("div",null,s["default"].createElement("label",null,"Currency: ",s["default"].createElement("input",null)))}}));o.contextTypes={store:s["default"].PropTypes.object},a["default"]=o},{react:"react","react-addons-update":"react-addons-update"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\WaitIndicator.jsx":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("react"),s=n(r),i=s["default"].createClass({displayName:"WaitIndicator",render:function(){return this.props.waiting?s["default"].createElement("div",{className:"wait-indicator"},"Please, wait..."):null}});a["default"]=i},{react:"react"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\action-creators.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return function(t){t({type:"WAIT"}),i["default"].post(o,e(null)).then(function(a){t({type:"STOP_WAIT"}),t(e(a))},function(a){t({type:"STOP_WAIT"}),t(e(a))})}}Object.defineProperty(a,"__esModule",{value:!0}),a.deleteCategory=a.editCategory=a.newCategory=a.deleteExpense=a.editExpense=a.newExpense=void 0;var s=e("./ajax"),i=n(s),o="/dispatch";a.newExpense=function(e){var t=e.amount,a=e.categoryId,n=e.comment,s=e.date;return r(function(e){return{type:"NEW_EXPENSE",amount:t,categoryId:a,comment:n,id:e,date:s}})},a.editExpense=function(e){var t=e.id,a=e.amount,n=e.categoryId,s=e.comment,i=e.date;return r(function(){return{type:"EDIT_EXPENSE",id:t,amount:a,categoryId:n,comment:s,date:i}})},a.deleteExpense=function(e){return r(function(t){return{type:"DELETE_EXPENSE",id:e}})},a.newCategory=function(e){var t=e.title,a=e.parentId;return r(function(e){return{type:"NEW_CATEGORY",id:e,title:t,parentId:a}})},a.editCategory=function(e){var t=e.id,a=e.title,n=void 0===a?null:a,s=e.parentId,i=void 0===s?null:s;return r(function(e){return{type:"EDIT_CATEGORY",id:t,title:n,parentId:i}})},a.deleteCategory=function(e){var t=e.id;return r(function(e){return{type:"DELETE_CATEGORY",id:t}})}},{"./ajax":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\ajax.js"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\ajax.js":[function(e,t,a){"use strict";var n=e("es6-promise");t.exports.get=function(e){var t=void 0;return new n.Promise(function(a,n){t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t.onreadystatechange=function(){if(t.readyState==XMLHttpRequest.DONE)if(200==t.status)if(t.responseText)try{a(JSON.parse(t.responseText))}catch(e){console.error("Response text is not null, but it's not a valid JSON: "+t.responseText),a(null)}else a(null);else n({code:t.status,responseText:t.responseText})},t.open("GET",e,!0),t.send()})},t.exports.post=function(e,t){return new n.Promise(function(a,n){var r=void 0;r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),r.onreadystatechange=function(){if(r.readyState==XMLHttpRequest.DONE)if(200==r.status)if(r.responseText)try{a(JSON.parse(r.responseText))}catch(e){console.error("Response text is not null, but it's not a valid JSON: "+r.responseText),a(null)}else a(null);else n({code:r.status,responseText:r.responseText})},r.open("POST",e,!0),r.send(JSON.stringify(t))})}},{"es6-promise":"es6-promise"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\arrays.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.asc=function(e,t){return e>t?1:t>e?-1:0},a.desc=function(e,t){return t>e?1:e>t?-1:0},a.find=function(e,t){return e.filter(t)[0]}},{}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\main.jsx":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=e("es6-promise"),i=e("react"),o=n(i),l=e("react-dom"),c=n(l),u=e("react-addons-update"),d=n(u),m=e("redux"),f=e("redux-logger"),p=n(f),y=e("redux-thunk"),h=n(y),v=e("react-redux"),g=e("moment"),_=n(g),C=e("./ajax"),E=n(C),k=e("./Root.jsx"),N=n(k),x=(e("./arrays"),"/dispatch");E["default"].get(x).then(function(e){return e},function(e){return console.error(e),console.error("Failed to load state, use default state"),s.Promise.resolve({error:"UNAUTHORIZED"})}).then(function(e){var t=function(){var t=arguments.length<=0||void 0===arguments[0]?e:arguments[0],a=arguments[1],n=a.type;a.status;switch(n){case"WAIT":return(0,d["default"])(t,{waiting:{$set:!0}});case"STOP_WAIT":return(0,d["default"])(t,{waiting:{$set:!1}});case"NEW_EXPENSE":var s=function(){var e=parseFloat(a.amount),n=parseInt(a.categoryId),r=a.comment,s=a.id,i=(0,_["default"])(a.date).valueOf(),o=!isNaN(e)&&t.categoryList.filter(function(e){return e.id===n}).length>0;return o?{v:(0,d["default"])(t,{history:{$push:[{id:s,amount:e,categoryId:n,comment:r,date:i}]}})}:void console.error("Invalid action",a)}();if("object"===("undefined"==typeof s?"undefined":r(s)))return s.v;break;case"EDIT_EXPENSE":var i=function(){var e=a.id,n=parseFloat(a.amount),r=parseInt(a.categoryId),s=a.comment,i=(0,_["default"])(a.date).valueOf(),o=t.history.map(function(t){return t.id===e?{id:e,amount:n,categoryId:r,comment:s,date:i}:t});return{v:(0,d["default"])(t,{history:{$set:o}})}}();if("object"===("undefined"==typeof i?"undefined":r(i)))return i.v;break;case"DELETE_EXPENSE":return(0,d["default"])(t,{history:{$set:t.history.filter(function(e){return e.id!==a.id})}});case"NEW_CATEGORY":var o=function(){var e=parseFloat(a.id),n=a.title,r=a.parentId,s={id:e,title:n,parentId:r,childIdList:[]},i=t.categoryList.map(function(t){return t.id===r?(0,d["default"])(t,{childIdList:{$push:[e]}}):t});return i=i.concat([s]),{v:(0,d["default"])(t,{categoryList:{$set:i}})}}();if("object"===("undefined"==typeof o?"undefined":r(o)))return o.v;break;case"EDIT_CATEGORY":var l=function(){var e=parseFloat(a.id),n=a.title,r=a.parentId,s=t.categoryList;return null!==n&&(s=s.map(function(t){return t.id===e?(0,d["default"])(t,{title:{$set:n}}):t})),null!==r&&!function(){var a=t.categoryList.filter(function(t){return t.id==e})[0],n=a.parentId;n!==r&&(s=s.map(function(t){if(t.id===e)return(0,d["default"])(t,{parentId:{$set:r}});if(t.id===n){var a=t.childIdList.filter(function(t){return t!==e});return(0,d["default"])(t,{childIdList:{$set:a}})}if(t.id===r){var a=t.childIdList.concat([e]);return(0,d["default"])(t,{childIdList:{$set:a}})}return t}))}(),{v:(0,d["default"])(t,{categoryList:{$set:s}})}}();if("object"===("undefined"==typeof l?"undefined":r(l)))return l.v;break;case"DELETE_CATEGORY":var c=function(){var e=a.id,n=t.categoryList.filter(function(t){return t.id==e})[0],r=n.parentId,s=t.categoryList.filter(function(t){return t.id!==e}).map(function(e){return e.id===r?(0,d["default"])(e,{childIdList:{$set:e.childIdList.filter(function(e){return e!==a.id})}}):e});return{v:(0,d["default"])(t,{categoryList:{$set:s}})}}();if("object"===("undefined"==typeof c?"undefined":r(c)))return c.v;break;default:console.warn("Unhandled action",a)}return t},a=(0,m.applyMiddleware)(h["default"],(0,p["default"])())(m.createStore)(t);c["default"].render(o["default"].createElement(v.Provider,{store:a},o["default"].createElement(N["default"],null)),document.getElementById("react"))},function(e){console.error(e)})["catch"](function(e){console.error(e)})},{"./Root.jsx":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\Root.jsx","./ajax":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\ajax.js","./arrays":"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\arrays.js","es6-promise":"es6-promise",moment:"moment",react:"react","react-addons-update":"react-addons-update","react-dom":"react-dom","react-redux":"react-redux",redux:"redux","redux-logger":"redux-logger","redux-thunk":"redux-thunk"}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\money.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a["default"]={format:function(e){return function(t){e=e||{};for(var a=e.groupDelim||" ",n=e.decimalDelim||".",r=e.currency||"",s="",i=parseInt(t/100),o=parseInt(t%100);i>=1e3;){var l=i%1e3;s=l+s,100>l&&(s="0"+s),10>l&&(s="0"+s),s=a+s,i=parseInt(i/1e3)}return s=i+s,s+=n,10>o&&(s+="0"),s+=o,s+=r}}}},{}],"C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\numbers.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.isNumber=function(e){return/^[0-9]*([,.][0-9]*)?$/.test(e)?!0:void 0},a.getNumber=function(e){return""===e||"."===e||","===e?0:parseFloat(e)}},{}]},{},["C:\\Users\\Nikolai_Mavrenkov@epam.com\\training\\moneytrack\\src\\scripts\\main.jsx"]);